<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Alerts explored in-depth &#8212; alerta 4.8 documentation</title>
    
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '4.8',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="top" title="alerta 4.8 documentation" href="../index.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="alerts-explored-in-depth">
<span id="tutorial-4"></span><h1>Alerts explored in-depth<a class="headerlink" href="#alerts-explored-in-depth" title="Permalink to this headline">¶</a></h1>
<p>In this tutorial you will learn about alert de-duplication and
simple correlation techniques as well as alert tags and custom
attributes, environments and services.</p>
<p><strong>Contents</strong></p>
<blockquote>
<div><ul class="simple">
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li><a class="reference internal" href="#step-1-de-duplication">Step 1: De-duplication</a></li>
<li><a class="reference internal" href="#step-2-simple-correlation">Step 2: Simple Correlation</a></li>
<li><a class="reference internal" href="#step-3-tags-and-custom-attributes">Step 3: Tags and Custom attributes</a></li>
<li><a class="reference internal" href="#step-4-environments-and-services">Step 4: Environments and Services</a></li>
<li><a class="reference internal" href="#next-steps">Next Steps</a></li>
</ul>
</div></blockquote>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>Alert de-duplication and simple correlation available with Alerta</dt>
<dd>to take advantage of the state-based</dd>
</dl>
<p>browser and reduce alert console noise.</p>
</div>
<div class="section" id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<p>It is assumed that you have completed <a class="reference internal" href="tutorial-1-deploy-alerta.html#tutorial-1"><span class="std std-ref">Tutorial 1</span></a>
or you have access to an Alerta server that you can send alerts to
using the <code class="docutils literal"><span class="pre">alerta</span></code> command-line tool.</p>
<p>It would also help to have access to the Alerta web console as
it can be very satisfying to see the alerts update in the console
in realtime rather than having to continually run <code class="docutils literal"><span class="pre">alerta</span> <span class="pre">query</span></code>
to see the results.</p>
</div>
<div class="section" id="step-1-de-duplication">
<h2>Step 1: De-duplication<a class="headerlink" href="#step-1-de-duplication" title="Permalink to this headline">¶</a></h2>
<p>Alert de-duplication is used to reduce the number of alerts in the
console by only displaying the duplicate alerts once but updating
key alert attributes and incrementing a duplicate counter.</p>
<p>To demonstrate de-duplication, run the following command to generate
the same alert, multiple times:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> alerta send -r user01 -e loginError -s major -E Production -S Security <span class="se">\</span>
<span class="go">-t &#39;user01 login failed.&#39;</span>
<span class="go">57eb528a-84bf-4080-b54a-37e2888207f3 (indeterminate -&gt; major)</span>

<span class="gp">$</span> alerta send -r user01 -e loginError -s major -E Production -S Security <span class="se">\</span>
<span class="go">-t &#39;user01 login failed.&#39;</span>
<span class="go">57eb528a-84bf-4080-b54a-37e2888207f3 (1 duplicates)</span>
</pre></div>
</div>
<p>Not that this is the default behaviour. No special configuration or alert
format is required. As long as the alert resource and event are the same
then alerts will be de-duplicated.</p>
<p>This even works with different severities. Try the above again but with
a different severity this time:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> alerta send -r user01 -e loginError -s major -E Production -S Security <span class="se">\</span>
<span class="go">-t &#39;user01 login failed.&#39;</span>
<span class="go">c94750b0-ef16-4f80-94fd-9de0fe789e68 (indeterminate -&gt; major)</span>

<span class="gp">$</span> alerta send -r user01 -e loginError -s critical -E Production -S Security <span class="se">\</span>
<span class="go">-t &#39;user01 login failed.&#39;</span>
<span class="go">c94750b0-ef16-4f80-94fd-9de0fe789e68 (major -&gt; critical)</span>
</pre></div>
</div>
<p>This is not strictly a duplicate, because the severity has changed, but
the principle is that as long as the event and resource are the same
then the alert will only be displayed once.</p>
</div>
<div class="section" id="step-2-simple-correlation">
<h2>Step 2: Simple Correlation<a class="headerlink" href="#step-2-simple-correlation" title="Permalink to this headline">¶</a></h2>
<p>Alerta has support for simple correlation which means that it can
be configured to replace one alert with another related alert.</p>
<p>To demonstrate <strong>simple correlation</strong>, run the following commands to
generate alerts that replace each other and only show the most
recent:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> alerta send -r user01 -e loginError -s major -E Production -S Security <span class="se">\</span>
<span class="go">-t &#39;user01 login failed.&#39; -C loginError -C loginWarn -C loginOk</span>
<span class="go">572cb438-5d09-4cdc-babd-410020e3bc15 (indeterminate -&gt; major)</span>

<span class="gp">$</span> alerta send -r user01 -e loginWarn -s warning -E Production -S Security <span class="se">\</span>
<span class="go">-t &#39;user01 password reset.&#39; -C loginError -C loginWarn -C loginOk</span>
<span class="go">572cb438-5d09-4cdc-babd-410020e3bc15 (major -&gt; warning)</span>

<span class="gp">$</span> alerta send -r user01 -e loginOk -s normal -E Production -S Security <span class="se">\</span>
<span class="go">-t &#39;user01 login success.&#39; -C loginError -C loginWarn -C loginOk</span>
<span class="go">572cb438-5d09-4cdc-babd-410020e3bc15 (warning -&gt; normal)</span>
</pre></div>
</div>
<p>The most important part of the above commands were the
<code class="docutils literal"><span class="pre">-C</span> <span class="pre">loginError</span> <span class="pre">-C</span> <span class="pre">loginWarn</span> <span class="pre">-C</span> <span class="pre">loginOk</span></code> arguments. The &#8220;-C&#8221;
option is short for &#8220;&#8211;correlate&#8221; and informs the Alerta server
that alerts with these events should be correlated together.</p>
<p>Interestingly the de-duplication logic demonstrated in <span class="xref std std-ref">Step 1</span>
above can be used to produce a similar results as this simple
correlation.</p>
<p>To demonstrate <strong>correlation by deduplication</strong> replace the different
login event names with &#8220;loginStatus&#8221; and move the actual event name
to &#8220;value&#8221;.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> alerta send -r user01 -e loginStatus -v loginError -s major -E Production <span class="se">\</span>
<span class="go">-S Security -t &#39;user01 login failed.&#39;</span>
<span class="go">1acab7c8-e08e-4fef-98ad-3b07ba238120 (indeterminate -&gt; major)</span>

<span class="gp">$</span> alerta send -r user01 -e loginStatus -v loginWarn -s warning -E Production <span class="se">\</span>
<span class="go">-S Security -t &#39;user01 password reset.&#39;</span>
<span class="go">1acab7c8-e08e-4fef-98ad-3b07ba238120 (major -&gt; warning)</span>

<span class="gp">$</span> alerta send -r user01 -e loginStatus -v loginOk -s normal -E Production <span class="se">\</span>
<span class="go">-S Security -t &#39;user01 login success.&#39;</span>
<span class="go">1acab7c8-e08e-4fef-98ad-3b07ba238120 (warning -&gt; normal)</span>
</pre></div>
</div>
<p>This method gives you the benefits of correlation without the overhead
of having to define all the correlated event names in advance.</p>
</div>
<div class="section" id="step-3-tags-and-custom-attributes">
<h2>Step 3: Tags and Custom attributes<a class="headerlink" href="#step-3-tags-and-custom-attributes" title="Permalink to this headline">¶</a></h2>
<p>TBC</p>
</div>
<div class="section" id="step-4-environments-and-services">
<h2>Step 4: Environments and Services<a class="headerlink" href="#step-4-environments-and-services" title="Permalink to this headline">¶</a></h2>
<p>TBC</p>
</div>
<div class="section" id="next-steps">
<h2>Next Steps<a class="headerlink" href="#next-steps" title="Permalink to this headline">¶</a></h2>
<p>After you deploy your Alerta server, you might want to try some of
the following tutorials:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference internal" href="tutorial-2-housekeeping.html#tutorial-2"><span class="std std-ref">Use alert timeouts to expire stale alerts</span></a></li>
<li>Configure a plugin to notify a Slack Channel</li>
<li>Send alerts to the Alerta API using the command-line tool</li>
<li>Create filtered alert views for different customers</li>
</ul>
</div></blockquote>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">alerta</a></h1>



<p class="blurb">monitoring system</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=guardian&repo=alerta&type=star&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





    

<p>
<a href="https://travis-ci.org/guardian/alerta">
    <img
        alt="https://secure.travis-ci.org/guardian/alerta.svg?branch=master"
        src="https://secure.travis-ci.org/guardian/alerta.svg?branch=master"
    />
</a>
</p>




<h3>
Links
</h3>
<ul>
  <li>
    <a href="http://alerta.io" rel="me">Web</a>
  </li>
  <li>
    <a href="https://twitter.com/alertaio" rel="me">Twitter</a>
  </li>
  <li>
    <a href="https://gitter.im/alerta/chat" rel="me">Gitter</a>
  </li>
</ul>

<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../quick-start.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../design.html">Design Principles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server.html">Server &amp; API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../webui.html">Alerta Web UI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli.html">Alerta CLI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../integrations.html">Integrations &amp; Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../authentication.html">Authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deployment.html">Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../customer-views.html">Customer Views</a></li>
<li class="toctree-l1"><a class="reference internal" href="../conventions.html">Conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials.html">Tutorials</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/reference.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/alert.html">Alert Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/heartbeat.html">Heartbeat Format</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">Frequently Asked Questions</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../release-notes.html">Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about.html">About</a></li>
</ul>


<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2015-2016, Nick Satterly. MIT License.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.4.8</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.9</a>
      
      |
      <a href="../_sources/gettingstarted/tutorial-4-alerts.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-44644195-3']);
      _gaq.push(['_setDomainName', 'none']);
      _gaq.push(['_setAllowLinker', true]);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
    
  </body>
</html>